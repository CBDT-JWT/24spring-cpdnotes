# 计算机程序设计基础(2)
> 运算符重载
2024年3月26日

## 特殊运算符重载
**浅复制的危害性** 两个对象的指针指向同一个字符串，释放内存时重复释放而出错。
解决方法： 重载`=`运算符.
## `>>`运算符的重载(流运算符)
**基本定义**
- `<<`重载为流插入运算符, `>>`重载为流提取运算符.
- `cout`为ostream的类对象, `cin`为istream的类对象

**只能把`<<` `>>`重载为友元函数!**

## 类型运算符重载
强制类型转换: 向==精度高==类型看起的原则.
重载类型运算符重载- 怎么实现`complex`类型和其它类型的加减?

方案1: 用构造函数
```C++
Class complex{
    private:
        double i;
        double r;
    public:
        complex(double r=0, double i=0){
            i = i;
            r = r;
        }
};

```
方案2: 类型转换函数
```C++
operator double(){
    return r;
}
```